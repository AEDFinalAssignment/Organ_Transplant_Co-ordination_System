/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package Userinterface.PatientdetailsWorkArea;

import System.EcoSystem;
import System.Hospital.Hospital;
import System.Hospital.HospitalDirectory;
import System.Hospital.Patient.Patient;
import System.Hospital.Patient.PatientDirectory;
import System.Hospital.Patient.VitalSigns.VitalSigns;
import System.Hospital.Staff.Staff;
import System.Hospital.Staff.StaffDirectory;
import Userinterface.HospitalAdminWorkArea.ManageStaffdetails;
import java.sql.SQLException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JSplitPane;

/**
 *
 * @author sanjeev
 */
public class ManagePatientVitals extends javax.swing.JPanel {

    /**
     * Creates new form ManagePatientVitals
     */ private EcoSystem system;
    private JSplitPane jSplitPane1;
    private String Username;
    private int id;
    public ManagePatientVitals(JSplitPane jSplitPane1,EcoSystem system,String Username,int id) {
        initComponents();
          this.jSplitPane1 = jSplitPane1;
        this.system = system;
        this.Username = Username;
        this.id = id;
        
        populateFeild(system,Username,id);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();
        txtPatientID = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        txtName = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        txtAge = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        txtBloodPressure = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        txtHeartRate = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        txtRespiratoryRate = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        txtPulse = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        txtTemperature = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        txtBOSaturation = new javax.swing.JTextField();
        jLabel12 = new javax.swing.JLabel();
        txtHeight = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        txtWeight = new javax.swing.JTextField();
        jLabel15 = new javax.swing.JLabel();
        txtBloodType = new javax.swing.JTextField();
        jLabel16 = new javax.swing.JLabel();
        txtAllergies = new javax.swing.JTextField();
        jLabel17 = new javax.swing.JLabel();
        txtOGMedications = new javax.swing.JTextField();
        jLabel14 = new javax.swing.JLabel();
        txtComplaints = new javax.swing.JTextField();
        jLabel18 = new javax.swing.JLabel();
        btnSave = new javax.swing.JButton();
        txtPhysician = new javax.swing.JTextField();

        setBackground(new java.awt.Color(255, 255, 255));
        setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel1.setText("Patient  ID:");
        add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(66, 154, 64, 23));
        add(txtPatientID, new org.netbeans.lib.awtextra.AbsoluteConstraints(134, 154, 112, 23));

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel2.setText("PATIENT DETAILS:");
        add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(66, 104, 180, 24));

        jLabel3.setText("Name:");
        add(jLabel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(283, 154, 41, 23));

        txtName.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtNameActionPerformed(evt);
            }
        });
        add(txtName, new org.netbeans.lib.awtextra.AbsoluteConstraints(334, 154, 390, 23));

        jLabel4.setText("Age:");
        add(jLabel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(750, 154, 31, 23));
        add(txtAge, new org.netbeans.lib.awtextra.AbsoluteConstraints(785, 154, 66, 23));

        jLabel6.setText("Blood Pressure :");
        add(jLabel6, new org.netbeans.lib.awtextra.AbsoluteConstraints(66, 255, 136, 25));
        add(txtBloodPressure, new org.netbeans.lib.awtextra.AbsoluteConstraints(212, 255, 178, 25));

        jLabel7.setText("Heart Rate :");
        add(jLabel7, new org.netbeans.lib.awtextra.AbsoluteConstraints(66, 286, 136, 25));
        add(txtHeartRate, new org.netbeans.lib.awtextra.AbsoluteConstraints(212, 286, 178, 25));

        jLabel8.setText("Respiratory Rate :");
        add(jLabel8, new org.netbeans.lib.awtextra.AbsoluteConstraints(66, 317, 136, 25));
        add(txtRespiratoryRate, new org.netbeans.lib.awtextra.AbsoluteConstraints(212, 317, 178, 25));

        jLabel9.setText("Pulse :");
        add(jLabel9, new org.netbeans.lib.awtextra.AbsoluteConstraints(66, 348, 136, 25));
        add(txtPulse, new org.netbeans.lib.awtextra.AbsoluteConstraints(212, 348, 178, 25));

        jLabel10.setText("Temperature :");
        add(jLabel10, new org.netbeans.lib.awtextra.AbsoluteConstraints(66, 379, 123, 25));
        add(txtTemperature, new org.netbeans.lib.awtextra.AbsoluteConstraints(212, 379, 178, 25));

        jLabel11.setText("Blood Oxygen Saturation :");
        add(jLabel11, new org.netbeans.lib.awtextra.AbsoluteConstraints(470, 286, 136, 25));
        add(txtBOSaturation, new org.netbeans.lib.awtextra.AbsoluteConstraints(660, 296, 178, 25));

        jLabel12.setText("Height :");
        add(jLabel12, new org.netbeans.lib.awtextra.AbsoluteConstraints(470, 326, 136, 25));
        add(txtHeight, new org.netbeans.lib.awtextra.AbsoluteConstraints(660, 336, 178, 25));

        jLabel13.setText("weight :");
        add(jLabel13, new org.netbeans.lib.awtextra.AbsoluteConstraints(470, 356, 136, 25));
        add(txtWeight, new org.netbeans.lib.awtextra.AbsoluteConstraints(660, 366, 178, 25));

        jLabel15.setText("Blood Type :");
        add(jLabel15, new org.netbeans.lib.awtextra.AbsoluteConstraints(66, 219, 136, 25));
        add(txtBloodType, new org.netbeans.lib.awtextra.AbsoluteConstraints(212, 219, 178, 25));

        jLabel16.setText("List of Allergies ( Comma Separated):");
        add(jLabel16, new org.netbeans.lib.awtextra.AbsoluteConstraints(470, 214, -1, 25));
        add(txtAllergies, new org.netbeans.lib.awtextra.AbsoluteConstraints(662, 214, 555, 25));

        jLabel17.setText("On-going Medications :");
        add(jLabel17, new org.netbeans.lib.awtextra.AbsoluteConstraints(470, 256, 145, 25));
        add(txtOGMedications, new org.netbeans.lib.awtextra.AbsoluteConstraints(660, 256, 557, 25));

        jLabel14.setText("Primary Complains :");
        add(jLabel14, new org.netbeans.lib.awtextra.AbsoluteConstraints(55, 459, 146, 28));
        add(txtComplaints, new org.netbeans.lib.awtextra.AbsoluteConstraints(219, 460, 604, 28));

        jLabel18.setText("Primary Physician : ");
        add(jLabel18, new org.netbeans.lib.awtextra.AbsoluteConstraints(60, 506, 146, 28));

        btnSave.setText("SAVE ");
        btnSave.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSaveActionPerformed(evt);
            }
        });
        add(btnSave, new org.netbeans.lib.awtextra.AbsoluteConstraints(212, 555, -1, -1));
        add(txtPhysician, new org.netbeans.lib.awtextra.AbsoluteConstraints(212, 507, 226, 28));
    }// </editor-fold>//GEN-END:initComponents

    private void txtNameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtNameActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtNameActionPerformed

    private void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSaveActionPerformed
        // TODO add your handling code here:
        try {
            // TODO add your handling code here:
            HospitalDirectory hosDirectory;
            PatientDirectory patDirectory;
            hosDirectory = system.getDBHospitalDirectory();
            for(Hospital h: hosDirectory.getHospitalDirectory())
            {
                if(h.getUserName().equals(Username))
                {
                    patDirectory = system.getDBPatientDirectory();
                    for(Patient p : patDirectory.getPatientDirectory())
                    {
                    if(p.getPatientID()==id)
                    {
                    VitalSigns vs = new VitalSigns();
                    vs = p.addVitalSigns();
                    vs.setBloodType(txtBloodType.getText());
                    vs.setBloodPressure(Integer.parseInt(txtBloodPressure.getText()));
                    vs.setHeartRate(Integer.parseInt(txtHeartRate.getText()));
                    vs.setRespiratoryRate(Integer.parseInt(txtRespiratoryRate.getText()));
                    vs.setPulse(Integer.parseInt(txtPulse.getText()));
                    vs.setTemperature(Integer.parseInt(txtTemperature.getText()));
                    vs.setBOSaturation(Integer.parseInt(txtBOSaturation.getText()));
                    vs.setHeight(Integer.parseInt(txtHeight.getText()));
                    vs.setWeight(Integer.parseInt(txtWeight.getText()));
                    vs.setComplains(txtComplaints.getText());
                    vs.setPhysician(txtPhysician.getText());
                    vs.setAllergiesList(txtAllergies.getText());
                    vs.setOG_Medications(txtOGMedications.getText());
                    vs.setPatientID(p.getPatientID());
                    
                    
                    
                    try {
                        system.saveVitalSignsDB(vs);
                    } catch (SQLException ex) {
                        Logger.getLogger(ManageStaffdetails.class.getName()).log(Level.SEVERE, null, ex);
                    }
                    
                    txtBloodType.setText("");
                    txtBloodPressure.setText("");
                    txtHeartRate.setText("");
                    txtRespiratoryRate.setText("");
                    txtPulse.setText("");
                    txtTemperature.setText("");
                    txtBOSaturation.setText("");
                    txtHeight.setText("");
                    txtWeight.setText("");
                    txtComplaints.setText("");
                    txtPhysician.setText("");
                    txtAllergies.setText("");
                    txtOGMedications.setText("");
                    }
                    }
                }
            }
        } catch (SQLException ex) {
            Logger.getLogger(ManageStaffdetails.class.getName()).log(Level.SEVERE, null, ex);
        }

    }//GEN-LAST:event_btnSaveActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnSave;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JTextField txtAge;
    private javax.swing.JTextField txtAllergies;
    private javax.swing.JTextField txtBOSaturation;
    private javax.swing.JTextField txtBloodPressure;
    private javax.swing.JTextField txtBloodType;
    private javax.swing.JTextField txtComplaints;
    private javax.swing.JTextField txtHeartRate;
    private javax.swing.JTextField txtHeight;
    private javax.swing.JTextField txtName;
    private javax.swing.JTextField txtOGMedications;
    private javax.swing.JTextField txtPatientID;
    private javax.swing.JTextField txtPhysician;
    private javax.swing.JTextField txtPulse;
    private javax.swing.JTextField txtRespiratoryRate;
    private javax.swing.JTextField txtTemperature;
    private javax.swing.JTextField txtWeight;
    // End of variables declaration//GEN-END:variables

    private void populateFeild(EcoSystem system,String Username,int id) {
        //throw new UnsupportedOperationException("Not supported yet."); //To change body of generated methods, choose Tools | Templates.
           if(id!=-1)
      {
          try {
            // TODO add your handling code here:
            PatientDirectory patDirectory;
            patDirectory = system.getDBPatientDirectory();
            for(Patient p: patDirectory.getPatientDirectory())
            {
                if(p.getPatientID()==id)
                {
                    txtPatientID.setText(String.valueOf(p.getPatientID()));
                    txtName.setText(p.getName());
                    txtAge.setText(String.valueOf(p.getAge()));
                }
            }
        } catch (SQLException ex) {
            Logger.getLogger(ManageStaffdetails.class.getName()).log(Level.SEVERE, null, ex);
        }
      }
    }
}
